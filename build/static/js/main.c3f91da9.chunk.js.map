{"version":3,"sources":["BooksAPI.js","Book.js","SearchBook.js","BookShelf.js","App.js","index.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","getAll","fetch","concat","then","res","json","data","books","update","book","shelf","id","method","Object","objectSpread","Content-Type","body","JSON","stringify","search","query","Book","state","shelfValue","_this","props","handleChange","e","BooksAPI","target","value","moveTo","setState","react_default","a","createElement","className","style","width","height","backgroundImage","this","imgURL","onChange","disabled","bookTitle","bookAuther","React","Component","SearchBook","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","changeHandler","inputValue","booksSearch","console","log","shelfName","bind","assertThisInitialized","_this2","correctBooks","map","bs","booksArray","ba","react_router_dom","to","type","placeholder","key","src_Book","title","authors","imageLinks","thumbnail","BookShelf","shelfBooks","bookId","BooksApp","bookArray","currentReadingBooks","wantToReadBooks","readBooks","componentDidMount","filter","moveBookTo","newBookArr","book1","react_router","exact","path","render","renderProps","src_BookShelf","src_SearchBook","ReactDOM","src_App","document","getElementById"],"mappings":"8PACMA,EAAM,wCAIRC,EAAQC,aAAaD,MACpBA,IACHA,EAAQC,aAAaD,MAAQE,KAAKC,SAASC,SAAS,IAAIC,QAAQ,IAElE,IAAMC,EAAU,CACdC,OAAU,mBACVC,cAAiBR,GAQNS,EAAS,kBACpBC,MAAK,GAAAC,OAAIZ,EAAJ,UAAiB,CAAEO,YACrBM,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAG,GAAI,OAAIA,EAAKC,SAEVC,EAAS,SAACC,EAAMC,GAAP,OACpBT,MAAK,GAAAC,OAAIZ,EAAJ,WAAAY,OAAiBO,EAAKE,IAAM,CAC/BC,OAAQ,MACRf,QAAQgB,OAAAC,EAAA,EAAAD,CAAA,GACHhB,EADE,CAELkB,eAAgB,qBAElBC,KAAMC,KAAKC,UAAU,CAAER,YACtBP,KAAK,SAAAC,GAAG,OAAIA,EAAIC,UAERc,EAAS,SAACC,GAAD,OACpBnB,MAAK,GAAAC,OAAIZ,EAAJ,WAAkB,CACrBsB,OAAQ,OACRf,QAAQgB,OAAAC,EAAA,EAAAD,CAAA,GACHhB,EADE,CAELkB,eAAgB,qBAElBC,KAAMC,KAAKC,UAAU,CAAEE,YACtBjB,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAG,GAAI,OAAIA,EAAKC,iCCKRc,6MAzCXC,MAAM,CACFC,WAAWC,EAAKC,MAAMf,SAI1BgB,aAAa,SAACC,GACVC,EAAgBJ,EAAKC,MAAMhB,KAAKkB,EAAEE,OAAOC,OACzCN,EAAKC,MAAMM,OAAOP,EAAKC,MAAMhB,KAAKkB,EAAEE,OAAOC,OAC3CN,EAAKQ,SAAS,CAACT,WAAWI,EAAEE,OAAOC,iFAQvC,OAEIG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAaC,MAAO,CAAEC,MAAO,IAAKC,OAAQ,IAAKC,gBAAe,QAAAtC,OAAUuC,KAAKhB,MAAMiB,OAArB,SAC7ET,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAEfH,EAAAC,EAAAC,cAAA,UAAQL,MAAOW,KAAKnB,MAAMC,WAAaoB,SAAUF,KAAKf,cAElDO,EAAAC,EAAAC,cAAA,UAAQL,MAAM,OAAOc,UAAQ,GAA7B,cACAX,EAAAC,EAAAC,cAAA,UAAQL,MAAM,oBAAd,qBACAG,EAAAC,EAAAC,cAAA,UAAQL,MAAM,cAAd,gBACAG,EAAAC,EAAAC,cAAA,UAAQL,MAAM,QAAd,QACAG,EAAAC,EAAAC,cAAA,UAAQL,MAAM,QAAd,WAKJG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAAcK,KAAKhB,MAAMoB,WACxCZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBK,KAAKhB,MAAMqB,oBArCnCC,IAAMC,WCyEVC,cAvEX,SAAAA,IACA,IAAAzB,EAAA,OAAAX,OAAAqC,EAAA,EAAArC,CAAA4B,KAAAQ,IACIzB,EAAAX,OAAAsC,EAAA,EAAAtC,CAAA4B,KAAA5B,OAAAuC,EAAA,EAAAvC,CAAAoC,GAAAI,KAAAZ,QAWJa,cAAc,SAAC3B,GAEXH,EAAKQ,SAAS,CAACuB,WAAW5B,EAAEE,OAAOC,QACN,KAA1BN,EAAKF,MAAMiC,YACb3B,EAAgBJ,EAAKF,MAAMiC,YAAYpD,KAAK,SAACG,GAAQkB,EAAKQ,SAAS,CAACwB,YAAYlD,IAAOmD,QAAQC,IAAI,cAAclC,EAAKF,MAAMkC,gBAhBjIhC,EAmBAmC,UAAU,SAAClD,GAEN,OAAGA,EAAKC,MACAD,EAAKC,MAGJ,QAvBVc,EAAKF,MAAM,CACPiC,WAAW,GACXC,YAAY,IAEhBhC,EAAK8B,cAAc9B,EAAK8B,cAAcM,KAAnB/C,OAAAgD,EAAA,EAAAhD,QAAAgD,EAAA,EAAAhD,CAAAW,KANvBA,wEAmCA,IAAAsC,EAAArB,KACQsB,EAActB,KAAKnB,MAAMkC,YAAYQ,IAAI,SAACC,GAAwF,OAAlFH,EAAKrC,MAAMyC,WAAWF,IAAI,SAACG,GAA0C,OAAjCF,EAAGtD,KAAKwD,EAAGxD,KAAIsD,EAAGvD,MAAMyD,EAAGzD,OAAayD,IAAaF,IAC7I,OAEIhC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAACiC,EAAA,EAAD,CAAMC,GAAG,KAAT,IAAcpC,EAAAC,EAAAC,cAAA,UAAQC,UAAU,gBAAlB,UACZH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BAEbH,EAAAC,EAAAC,cAAA,SAAOmC,KAAK,OAAOC,YAAY,4BAA6B5B,SAAUF,KAAKa,kBAKnFrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAEbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAGe,KAA1BK,KAAKnB,MAAMiC,WACXQ,EAAaC,IAAI,SAACvD,GAAD,OAASwB,EAAAC,EAAAC,cAAA,MAAIqC,IAAK/D,EAAKE,IAAd,IAAmBsB,EAAAC,EAAAC,cAACsC,EAAD,CAAM5B,UAAWpC,EAAKiE,MAAOjE,KAAMA,EAAMC,MAAOoD,EAAKH,UAAUlD,GAAQqC,WAAYrC,EAAKkE,QAASjC,OAAQjC,EAAKmE,WAAWC,UAAY9C,OAAQ+B,EAAKrC,MAAMM,YACvLE,EAAAC,EAAAC,cAAA,qBA3DNa,aCmBV8B,mLAjBX,IAAAtD,EAAAiB,KACE,OACMR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAmBK,KAAKhB,MAAMkC,WAC3C1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACTK,KAAKhB,MAAMsD,WAAWf,IAAI,SAAAvD,GAAI,OACvBwB,EAAAC,EAAAC,cAAA,MAAIqC,IAAK/D,EAAKE,IAAd,IAAmBsB,EAAAC,EAAAC,cAACsC,EAAD,CAAMO,OAAQvE,EAAKE,GAAIF,KAAMA,EAAMoC,UAAWpC,EAAKiE,MAAO5B,WAAYrC,EAAKkE,QAASjC,OAAQjC,EAAKmE,WAAWC,UAAWnE,MAAOD,EAAKC,MAAOqB,OAAQP,EAAKC,MAAMM,sBAVzLiB,oBCqFTiC,6MA7Eb3D,MAAM,CAEJ4D,UAAU,GACVxE,MAAM,GACNyE,oBAAoB,GACpBC,gBAAgB,GAChBC,UAAU,MAMdC,kBAAkB,WAChB1D,IAAkBzB,KAAK,SAACG,GAASkB,EAAKQ,SAAS,CAACkD,UAAU5E,IAAOmD,QAAQC,IAAI,eAAelC,EAAKF,MAAM4D,WACvG1D,EAAKuD,kBAKPA,WAAW,WAAKvD,EAAKQ,SAAS,CAACmD,oBAAoB3D,EAAKF,MAAM4D,UAAUK,OAAO,SAAA9E,GAAI,MAAe,qBAAbA,EAAKC,UAC1Ec,EAAKQ,SAAS,CAACoD,gBAAgB5D,EAAKF,MAAM4D,UAAUK,OAAO,SAAA9E,GAAI,MAAe,eAAbA,EAAKC,UACtEc,EAAKQ,SAAS,CAACqD,UAAU7D,EAAKF,MAAM4D,UAAUK,OAAO,SAAA9E,GAAI,MAAe,SAAbA,EAAKC,UAEhE+C,QAAQC,IAAI,YAAalC,EAAKF,MAAM6D,wBAEpDK,WAAW,SAAC/E,EAAKkD,GAEf,IAAI8B,EAAWjE,EAAKF,MAAM4D,UAAUlB,IAAI,SAAC0B,GAEd,OADtBA,EAAM/E,KAAKF,EAAKE,KAAKiB,EAAgB8D,EAAM/E,GAAGgD,GAC/C+B,EAAMhF,MAAMiD,GAAkB+B,IAGhClE,EAAKQ,SAAS,CAACkD,UAAUO,IACzBjE,EAAKuD,sFAIE,IAAAjB,EAAArB,KAGP,OACER,EAAAC,EAAAC,cAACiC,EAAA,EAAD,KAEAnC,EAAAC,EAAAC,cAACwD,EAAA,EAAD,KACG1D,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,OAAQ,SAACC,GAAD,OAC9B9D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,sBAEFF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC6D,EAAD,CAAWrC,UAAW,oBAAqBoB,WAAYjB,EAAKxC,MAAM6D,oBAAqBpD,OAAQ+B,EAAK0B,aACpGvD,EAAAC,EAAAC,cAAC6D,EAAD,CAAWrC,UAAW,eAAgBoB,WAAYjB,EAAKxC,MAAM8D,gBAAiBrD,OAAQ+B,EAAK0B,aAC3FvD,EAAAC,EAAAC,cAAC6D,EAAD,CAAWrC,UAAW,OAAQoB,WAAYjB,EAAKxC,MAAM+D,UAAWtD,OAAQ+B,EAAK0B,eAOjFvD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACdH,EAAAC,EAAAC,cAACiC,EAAA,EAAD,CAAMC,GAAG,WAAT,IAAoBpC,EAAAC,EAAAC,cAAA,mCAKzBF,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAOE,KAAK,UAAUC,OAAQ,SAACC,GAAD,OAAe9D,EAAAC,EAAAC,cAAC8D,EAAD,CAAY/B,WAAYJ,EAAKxC,MAAM4D,UAAWnD,OAAQ+B,EAAK0B,yBAtEzFzC,IAAMC,iBCH7BkD,IAASJ,OAAO7D,EAAAC,EAAAC,cAACgE,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.c3f91da9.chunk.js","sourcesContent":["\r\nconst api = \"https://reactnd-books-api.udacity.com\"\r\n\r\n\r\n// Generate a unique token for storing your bookshelf data on the backend server.\r\nlet token = localStorage.token\r\nif (!token)\r\n  token = localStorage.token = Math.random().toString(36).substr(-8)\r\n\r\nconst headers = {\r\n  'Accept': 'application/json',\r\n  'Authorization': token\r\n}\r\n\r\nexport const get = (bookId) =>\r\n  fetch(`${api}/books/${bookId}`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.book)\r\n\r\nexport const getAll = () =>\r\n  fetch(`${api}/books`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.books)\r\n\r\nexport const update = (book, shelf) =>\r\n  fetch(`${api}/books/${book.id}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ shelf })\r\n  }).then(res => res.json())\r\n\r\nexport const search = (query) =>\r\n  fetch(`${api}/search`, {\r\n    method: 'POST',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ query })\r\n  }).then(res => res.json())\r\n    .then(data => data.books)\r\n\r\n   // export default BooksAPI;","import React from 'react'\r\nimport * as BooksAPI from './BooksAPI'\r\n\r\n\r\n\r\nclass Book extends React.Component\r\n{    \r\n    state={\r\n        shelfValue:this.props.shelf\r\n        }\r\n\r\n\r\n    handleChange=(e)=>{\r\n        BooksAPI.update(this.props.book,e.target.value);\r\n        this.props.moveTo(this.props.book,e.target.value)\r\n        this.setState({shelfValue:e.target.value});\r\n\r\n      \r\n\r\n    }\r\n\r\n    \r\n    render(){\r\n    return(\r\n   \r\n        <div className=\"book\">\r\n            <div className=\"book-top\">\r\n            <div className=\"book-cover\" style={{ width: 128, height: 193, backgroundImage: `url(\"${this.props.imgURL}\")`  }}></div>\r\n            <div className=\"book-shelf-changer\">\r\n                \r\n            <select value={this.state.shelfValue}  onChange={this.handleChange}  >\r\n                \r\n                <option value=\"move\" disabled>Move to...</option>\r\n                <option value=\"currentlyReading\">Currently Reading</option>\r\n                <option value=\"wantToRead\" >Want to Read</option>\r\n                <option value=\"read\" >Read</option>\r\n                <option value=\"none\">None</option>\r\n            </select>\r\n            \r\n            </div>\r\n            </div>\r\n            <div className=\"book-title\">{this.props.bookTitle}</div>\r\n            <div className=\"book-authors\">{this.props.bookAuther}</div>\r\n            \r\n        </div>\r\n    )}\r\n}\r\n\r\nexport default Book","import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport * as BooksAPI from './BooksAPI'\r\nimport Book from './Book';\r\n\r\nclass SearchBook extends Component\r\n{\r\n    constructor()\r\n    {\r\n        super();\r\n        this.state={\r\n            inputValue:\"\",\r\n            booksSearch:[]\r\n        }\r\n        this.changeHandler=this.changeHandler.bind(this);\r\n        \r\n    }\r\n\r\n  \r\n\r\n    changeHandler=(e)=>{\r\n     \r\n        this.setState({inputValue:e.target.value});\r\n        if(this.state.inputValue !== \"\")\r\n       { BooksAPI.search(this.state.inputValue).then((data)=>{this.setState({booksSearch:data});console.log(\"searchbooks\",this.state.booksSearch)})}\r\n    }\r\n\r\n    shelfName=(book)=>\r\n       {\r\n         if(book.shelf)\r\n         {return book.shelf}\r\n\r\n         else{\r\n           return \"none\"\r\n         }\r\n       }\r\n\r\n\r\n       \r\n       \r\n      \r\n   \r\n    render()\r\n    {\r\n      const correctBooks= this.state.booksSearch.map((bs)=>{this.props.booksArray.map((ba)=>{if(bs.id===ba.id){bs.shelf=ba.shelf}return ba;});return bs})\r\n        return(\r\n\r\n            <div className=\"search-books\">\r\n              <div className=\"search-books-bar\">\r\n                <Link to=\"/\"> <button className=\"close-search\" >Close</button></Link>\r\n                  <div className=\"search-books-input-wrapper\">\r\n                \r\n                    <input type=\"text\" placeholder=\"Search by title or author\"  onChange={this.changeHandler}  />\r\n\r\n                  </div>\r\n              </div>\r\n            \r\n            <div className=\"search-books-results\">\r\n             \r\n              <ol className=\"books-grid\">\r\n              \r\n              {\r\n                (this.state.inputValue !== \"\")?\r\n                (correctBooks.map((book)=>(<li key={book.id}> <Book bookTitle={book.title} book={book} shelf={this.shelfName(book)}  bookAuther={book.authors} imgURL={book.imageLinks.thumbnail}  moveTo={this.props.moveTo}/>\r\n                    </li>)) ):(<li></li>)\r\n                    \r\n              }                            \r\n                           \r\n              </ol>\r\n\r\n            </div>\r\n          </div>\r\n\r\n        )\r\n    }\r\n       \r\n  }\r\n\r\nexport default SearchBook","import React, { Component } from 'react'\r\nimport Book from './Book'\r\n\r\n\r\nclass BookShelf extends Component\r\n{        \r\n    render()\r\n    {\r\n      return(\r\n            <div className=\"bookshelf\">\r\n                <h2 className=\"bookshelf-title\">{this.props.shelfName}</h2> \r\n                 <div className=\"bookshelf-books\">\r\n                     <ol className=\"books-grid\">\r\n                        { this.props.shelfBooks.map(book=> \r\n                                 <li key={book.id}> <Book bookId={book.id} book={book} bookTitle={book.title} bookAuther={book.authors} imgURL={book.imageLinks.thumbnail} shelf={book.shelf} moveTo={this.props.moveTo} />\r\n                                        </li>) } \r\n                    </ol> \r\n                               \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BookShelf","import React from 'react'\r\nimport * as BooksAPI from './BooksAPI'\r\nimport './App.css'\r\nimport SearchBook from './SearchBook'\r\nimport BookShelf from './BookShelf'\r\n\r\nimport {BrowserRouter,Route,Link,Switch} from \"react-router-dom\";\r\n\r\n\r\nclass BooksApp extends React.Component {\r\n\r\n\r\n  state={\r\n            \r\n    bookArray:[],\r\n    shelf:\"\",\r\n    currentReadingBooks:[],\r\n    wantToReadBooks:[],\r\n    readBooks:[]\r\n\r\n}\r\n\r\n\r\n\r\ncomponentDidMount=()=> {\r\n  BooksAPI.getAll().then((data) =>{this.setState({bookArray:data});console.log(\"Book Array =\",this.state.bookArray)\r\n  this.shelfBooks()\r\n                        })}\r\n\r\n\r\n\r\nshelfBooks=()=>{this.setState({currentReadingBooks:this.state.bookArray.filter(book=>book.shelf===\"currentlyReading\")})\r\n                this.setState({wantToReadBooks:this.state.bookArray.filter(book=>book.shelf===\"wantToRead\")})\r\n                this.setState({readBooks:this.state.bookArray.filter(book=>book.shelf===\"read\")})\r\n\r\n                console.log(\"data ===>\" ,this.state.currentReadingBooks)}\r\n\r\nmoveBookTo=(book,shelfName)=>{\r\n  \r\n  let newBookArr=this.state.bookArray.map((book1)=>{\r\n    if(book1.id===book.id){(BooksAPI.update(book1.id,shelfName));\r\n      book1.shelf=shelfName;}return book1;\r\n                                              })\r\n    \r\n    this.setState({bookArray:newBookArr})\r\n    this.shelfBooks()\r\n    \r\n}\r\n\r\n  render() { \r\n    \r\n  \r\n    return (\r\n      <BrowserRouter>\r\n\r\n      <Switch>\r\n         <Route exact path='/' render={(renderProps)=>\r\n         <div className=\"app\">\r\n          <div className=\"list-books\">\r\n            <div className=\"list-books-title\">\r\n              <h1>MyReads</h1>\r\n            </div>\r\n            <div className=\"list-books-content\">\r\n              <div>\r\n                <BookShelf shelfName={\"Currently Reading\"} shelfBooks={this.state.currentReadingBooks} moveTo={this.moveBookTo}/>\r\n                <BookShelf shelfName={\"Want To Read\"} shelfBooks={this.state.wantToReadBooks} moveTo={this.moveBookTo}/>\r\n                <BookShelf shelfName={\"Read\"} shelfBooks={this.state.readBooks} moveTo={this.moveBookTo}/>\r\n\r\n              </div>\r\n            </div>\r\n\r\n\r\n            {/*search button */}\r\n            <div className=\"open-search\">\r\n             <Link to=\"/search\"> <button>Add a book</button></Link>\r\n            </div>\r\n          </div>\r\n        \r\n      </div>}/> \r\n        <Route path='/search' render={(renderProps)=><SearchBook booksArray={this.state.bookArray} moveTo={this.moveBookTo}/>}/>\r\n\r\n      </Switch>\r\n\r\n      \r\n      </BrowserRouter>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BooksApp\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}